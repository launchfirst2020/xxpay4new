webpackJsonp([5],{PxTx:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a("CJJO"),i={components:{Keyboard:a("1WYs").a},data:function(){return{htmlProportion:"",htmlWidth:"",htmlheight:"",yenSymbol:"¥",isAllowModifyAmount:!0,keyboardOption:{show:!1,clickShowDom:"",value:""},payToken:"",storeId:"",operatorId:"",tradeOrderId:"",merchantName:" -- ",showMask:!1,remark:"",headSculpture:a("e6AH")}},mounted:function(){this.judge_shuru()},created:function(){var t=this;this.htmlWidth=document.documentElement.clientWidth||document.body.clientWidth,this.htmlheight=document.documentElement.clientHeight||document.body.clientHeight,this.htmlProportion=this.htmlWidth/750;var e=this.$route.query.mchId;if(!e)return alert("参数有误");this.mchId=e;var a=this.$route.query.storeId;a&&(this.storeId=a);var i=this.$route.query.operatorId;i&&(this.operatorId=i);var s=this.$route.query.payAmount;s?this.keyboardOption.value=s/100:this.isAllowModifyAmount=!0;var r=this.$route.query.tradeOrderId;r&&(this.tradeOrderId=r);var n=this.$route.query.payToken;if(!n)return alert("参数有误");this.payToken=n,Object(o.d)(this.payToken,this.mchId,this.storeId,this.operatorId).then(function(e){t.merchantName=e.data.mchName}).catch(function(t){})},methods:{showKeyboard:function(){this.keyboardOption.clickShowDom=this.$refs.keyboard,this.keyboardOption.show=!0},judge_shuru:function(){this.isAllowModifyAmount&&(this.showKeyboard(),this.money_shuru=!0)},payment:function(){var t=this;this.showMask=!0;if(!this.keyboardOption.value)return this.showMask=!1,alert("请输入正确的金额！");var e=(100*this.keyboardOption.value).toFixed(0);if(e<=0)return this.showMask=!1,alert("请输入正确的金额！");Object(o.c)(e,this.storeId,this.operatorId,this.mchId,this.tradeOrderId,this.payToken).then(function(t){var e=JSON.parse(t.data.payParam);window.location.href=e.PAY_URL}).catch(function(e){t.showMask=!1})},toPayFunc:function(){var t=this;this.$nextTick(function(){t.payment()})}}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{background:"rgba(242, 242, 242, 1)"}},[a("div",{staticClass:"lf-store-name"},[a("div",{staticClass:"lf-content-payPanel"},[a("div",[a("div",{staticClass:"one"},[a("span",{},[t._v("付款给 "),a("span",{domProps:{textContent:t._s(this.merchantName)}})]),t._v(" "),a("div",[a("img",{staticClass:"headSculpture",attrs:{src:t.headSculpture,alt:""}})])])])])]),t._v(" "),a("div",{staticClass:"bottom",staticStyle:{height:"37rem"}},[a("div",{staticClass:"jiner"},[a("div",{staticClass:"text"},[t._v("金额")]),t._v(" "),a("div",{staticClass:"money"},[a("span",{staticClass:"money_fuhao"},[t._v("￥")]),t._v(" "),t.isAllowModifyAmount?a("span",{ref:"keyboard",staticClass:"text-lg pay-price-input",domProps:{textContent:t._s(t.keyboardOption.value)},on:{click:t.showKeyboard}}):a("span",{staticClass:"text-lg pay-price-input",domProps:{textContent:t._s(t.keyboardOption.value)}}),t._v(" "),a("Keyboard",{attrs:{keyboardOption:t.keyboardOption,toPayFunc:t.toPayFunc}})],1)]),t._v(" "),0==t.keyboardOption.show?a("div",{staticClass:"fukuan"},[a("div",{staticClass:"fukuan_text",on:{click:t.payment}},[a("span",{staticClass:"zhifu-text1"},[t._v("付款"+t._s(t.keyboardOption.value)+"元")])])]):t._e()])])},staticRenderFns:[]};var r=a("VU/8")(i,s,!1,function(t){a("QxOK")},"data-v-28cce715",null);e.default=r.exports},QxOK:function(t,e){}});
//# sourceMappingURL=5.89a94136debcda1d2413.js.map