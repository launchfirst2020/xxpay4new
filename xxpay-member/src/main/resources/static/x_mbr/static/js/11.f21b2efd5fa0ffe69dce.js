webpackJsonp([11],{"56RT":function(t,s){},TTNk:function(t,s,o){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=o("CJJO"),e=o("s0MJ"),a={data:function(){return{active:0,noPointsGoods:!1,htmlProportion:"",htmlWidth:"",htmlheight:"",goodsList:[],goodsRefreshing:!1,goodsLoading:!1,goodsLoadedAll:!1,page:1,limit:10,status:0}},created:function(){this.htmlWidth=document.documentElement.clientWidth||document.body.clientWidth,this.htmlheight=document.documentElement.clientHeight||document.body.clientHeight,this.htmlProportion=this.htmlWidth/750,this.goodsLoadedAll=!0,this.getMchGoodsList()},methods:{goodsRefresh:function(){this.goodsRefreshing=!0,this.goodsLoadedAll=!1,this.$refs.container.scrollTop=0,this.page=1,this.status=0,this.getMchGoodsList()},goodsLoad:function(){this.goodsLoading=!0,this.page=Math.floor(this.goodsList.length/this.limit)+1,this.goodsLoadedAll?this.goodsLoadedAll=!0:this.getMchGoodsList()},getMchGoodsList:function(){var t=this;Object(i.q)(t.page,t.limit,t.status).then(function(s){var o=t.setPointsGoods(s.data);o.length<=0?(t.noPointsGoods=!0,t.active=-1):t.noPointsGoods=!1,t.goodsList=t.goodsRefreshing?o:t.goodsList.concat(o),o.length<t.limit?t.goodsLoadedAll=!0:t.goodsLoadedAll=!1,t.goodsLoading=!1,t.goodsRefreshing=!1}).catch(function(s){t.goodsRefreshing=!1,console.log(s)})},setPointsGoods:function(t){var s=[];return t.forEach(function(t){t.validateEnd="兑换期限："+e.dateUtils.format2Datetime(t.endTime),s.push({exchangeNo:t.exchangeNo,goodsId:t.goodsId,goodsName:t.goodsName,points:t.points+"积分",goodsPrice:"价值"+t.goodsPrice/100+"元",imgPath:t.imgPath,validateEnd:t.validateEnd,stockLimitType:t.stockLimitType,status:t.status})}),s},change:function(t){0==t?(this.page=1,this.goodsRefreshing=!0,this.goodsLoadedAll=!1,this.status=0,this.getMchGoodsList()):1==t?(this.page=1,this.goodsRefreshing=!0,this.goodsLoadedAll=!1,this.status=1,this.getMchGoodsList()):2==t&&(this.page=1,this.goodsRefreshing=!0,this.goodsLoadedAll=!1,this.status=2,this.getMchGoodsList())},jump:function(t){this.$router.push({path:"/user/pointsGoods/detail",query:{exchangeNo:t.exchangeNo}})}}},n={render:function(){var t=this,s=t.$createElement,o=t._self._c||s;return o("div",{staticClass:"bg-white"},[o("div",{style:{height:t.htmlheight+"px"}},[o("div",{staticClass:"tabBox"},[o("mu-tabs",{attrs:{value:t.active,inverse:"",color:"black","indicator-color":"blue","full-width":""},on:{"update:value":function(s){t.active=s},change:t.change}},[o("mu-tab",[t._v("未兑换")]),t._v(" "),o("mu-tab",[t._v("已兑换")]),t._v(" "),o("mu-tab",[t._v("已作废")])],1)],1),t._v(" "),t.noPointsGoods?o("div",{staticClass:"tab-content margin-top-20",staticStyle:{"text-align":"center"}},[o("span",[t._v("暂无积分商品")])]):t._e(),t._v(" "),0===t.active?o("div",{staticClass:"tab-content"},[o("mu-container",{ref:"container"},[o("mu-load-more",{attrs:{refreshing:t.goodsRefreshing,loading:t.goodsLoading,"loaded-all":t.goodsLoadedAll},on:{refresh:t.goodsRefresh,load:t.goodsLoad}},[o("mu-list",[t._l(t.goodsList,function(s,i){return[o("div",{key:i,staticClass:"coupon-item"},[o("div",{staticClass:"coupon-detail"},[o("div",{staticClass:"coupon-money"},[o("span",{staticClass:"text-B text-mid text-black"},[t._v(t._s(s.goodsName))])]),t._v(" "),o("div",{staticClass:"coupon-money"},[o("span",{staticClass:"text-B"},[t._v(t._s(s.points))]),t._v(" "),o("span",{staticClass:"text-B"},[t._v("  "+t._s(s.goodsPrice))])]),t._v(" "),o("div",{staticClass:"coupon-endTime"},[t._v(t._s(s.validateEnd))])]),t._v(" "),o("div",{staticClass:"coupon-get",staticStyle:{"margin-top":"3px"}},[o("mu-button",{staticStyle:{transform:"scale(0.8)","font-size":"15px"},attrs:{small:"",round:"",color:"#FF9000"},on:{click:function(o){return t.jump(s)}}},[t._v("去使用")])],1)])]})],2)],1)],1)],1):t._e(),t._v(" "),1===t.active?o("div",{staticClass:"tab-content"},[o("mu-container",{ref:"container"},[o("mu-load-more",{attrs:{refreshing:t.goodsRefreshing,loading:t.goodsLoading,"loaded-all":t.goodsLoadedAll},on:{refresh:t.goodsRefresh,load:t.goodsLoad}},[o("mu-list",[t._l(t.goodsList,function(s,i){return[o("div",{key:i,staticClass:"coupon-item"},[o("div",{staticClass:"coupon-detail"},[o("div",{staticClass:"coupon-money"},[o("span",{staticClass:"text-B text-mid text-black"},[t._v(t._s(s.goodsName))])]),t._v(" "),o("div",{staticClass:"coupon-money"},[o("span",{staticClass:"text-B"},[t._v(t._s(s.points))]),t._v(" "),o("span",{staticClass:"text-B"},[t._v("  "+t._s(s.goodsPrice))])]),t._v(" "),o("div",{staticClass:"coupon-endTime"},[t._v(t._s(s.validateEnd))])]),t._v(" "),o("div",{staticClass:"coupon-get",staticStyle:{"margin-top":"3px"}},[o("div",{staticClass:"coupon-used"},[t._v("已使用")])])])]})],2)],1)],1)],1):t._e(),t._v(" "),2===t.active?o("div",{staticClass:"tab-content"},[o("mu-container",{ref:"container"},[o("mu-load-more",{attrs:{refreshing:t.goodsRefreshing,loading:t.goodsLoading,"loaded-all":t.goodsLoadedAll},on:{refresh:t.goodsRefresh,load:t.goodsLoad}},[o("mu-list",[t._l(t.goodsList,function(s,i){return[o("div",{key:i,staticClass:"coupon-item"},[o("div",{staticClass:"coupon-detail"},[o("div",{staticClass:"coupon-money"},[o("span",{staticClass:"text-B text-mid text-black"},[t._v(t._s(s.goodsName))])]),t._v(" "),o("div",{staticClass:"coupon-money"},[o("span",{staticClass:"text-B"},[t._v(t._s(s.points))]),t._v(" "),o("span",{staticClass:"text-B"},[t._v("  "+t._s(s.goodsPrice))])]),t._v(" "),o("div",{staticClass:"coupon-endTime"},[t._v(t._s(s.validateEnd))])]),t._v(" "),o("div",{staticClass:"coupon-get",staticStyle:{"margin-top":"3px"}},[o("div",{staticClass:"coupon-used"},[t._v("已作废")])])])]})],2)],1)],1)],1):t._e()])])},staticRenderFns:[]};var d=o("C7Lr")(a,n,!1,function(t){o("56RT")},null,null);s.default=d.exports}});