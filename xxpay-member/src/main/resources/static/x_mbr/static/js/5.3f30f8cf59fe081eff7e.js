webpackJsonp([5],{"3cXf":function(t,e,i){t.exports={default:i("pELq"),__esModule:!0}},XzBw:function(t,e){},icef:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("3cXf"),s=i.n(a),n=i("CJJO"),r={data:function(){return{htmlProportion:"",htmlWidth:"",htmlheight:"",ruleId:"",amount:"",give:"",giveName:""}},created:function(){this.htmlWidth=document.documentElement.clientWidth||document.body.clientWidth,this.htmlheight=document.documentElement.clientHeight||document.body.clientHeight,this.htmlProportion=this.htmlWidth/750,this.ruleId=this.$route.query.ruleId,this.amount=this.$route.query.amount,this.ruleId?this.ruleDetail():(this.giveName="优惠",this.give="无")},methods:{ruleDetail:function(){var t=this,e=this;Object(n.x)(e.ruleId).then(function(i){var a=i.data.ruleType,s=i.data.givePoints;1==a?(t.give=s?"￥"+s/100:"0",t.giveName="赠送金额"):2==a?(t.give=s||"0",t.giveName="赠送积分"):3==a?(t.giveName="赠送优惠券",t.give=i.data.giveCouponId?i.data.couponName:"无"):(t.giveName="优惠",t.give="无"),e.rule.give=i.data.give}).catch(function(t){console.log(t)})},recharge:function(){var t=this;Object(n.v)(this.amount,this.ruleId).then(function(e){"undefined"==typeof WeixinJSBridge&&(document.addEventListener?document.addEventListener("WeixinJSBridgeReady",onBridgeReady,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",onBridgeReady),document.attachEvent("onWeixinJSBridgeReady",onBridgeReady))),t.onBridgeReady(e.data)}).catch(function(t){console.log(t)})},onBridgeReady:function(t){var e=JSON.parse(t.payParam),i=this;WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:e.appId,timeStamp:e.timeStamp,nonceStr:e.nonceStr,package:e.package,signType:e.signType,paySign:e.paySign},function(e){"get_brand_wcpay_request:ok"==e.err_msg&&i.$router.push({path:"/wx/paySuccess",query:{giveName:i.giveName,give:i.give,amount:t.amount,tradeOrderId:t.tradeOrderId,payType:1}}),"get_brand_wcpay_request:cancel"==e.err_msg&&alert("支付取消"),"get_brand_wcpay_request:fail"==e.err_msg&&(alert("支付失败"),alert(s()(e))),"total_fee"==e.err_msg&&alert("缺少参数")})},jump:function(){this.$router.go(-1)}}},d={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"center",style:{height:t.htmlheight+"px"}},[i("div",{staticClass:"uni-list"},[t._m(0),t._v(" "),i("div",{staticClass:"uni-media-list"},[i("div",{staticClass:"uni-media-list-body"},[i("span",{staticClass:"text-gray"},[t._v("充值金额")]),t._v(" "),i("span",{staticClass:"margin-left-20"},[t._v("￥"+t._s(t.amount))])])]),t._v(" "),i("div",{staticClass:"uni-media-list"},[i("div",{staticClass:"uni-media-list-body"},[i("span",{staticClass:"text-gray"},[t._v(t._s(t.giveName))]),t._v(" "),i("span",{staticClass:"margin-left-20"},[t._v(t._s(t.give))])])]),t._v(" "),t._m(1)]),t._v(" "),i("div",{staticClass:"bg-grey",style:{height:30*t.htmlProportion+"px"}}),t._v(" "),i("div",{staticClass:"uni-list"},[i("div",{staticClass:"uni-media-list"},[i("div",{staticClass:"uni-media-list-body"},[i("span",{staticClass:"text-mid"},[t._v("合计")]),t._v(" "),i("span",{staticClass:"text-mid text-FF9000"},[t._v("￥"+t._s(t.amount))])])])]),t._v(" "),i("div",{style:{height:100*t.htmlProportion+"px"}}),t._v(" "),i("mu-flex",{attrs:{"justify-content":"center"}},[i("mu-button",{staticClass:"xxpay-recharge",attrs:{round:"",color:"#FF9000"},on:{click:function(e){return t.recharge()}}},[t._v("￥"+t._s(t.amount)+" 立即充值")])],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"uni-media-list"},[e("div",{staticClass:"uni-media-list-body"},[e("span",{staticClass:"text-mid"},[this._v("确认订单信息")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"uni-media-list"},[e("div",{staticClass:"uni-media-list-body"},[e("span",{staticClass:"text-gray"},[this._v("支付方式")]),this._v(" "),e("span",{staticClass:"margin-left-20"},[this._v("微信支付")])])])}]};var c=i("C7Lr")(r,d,!1,function(t){i("XzBw")},null,null);e.default=c.exports},pELq:function(t,e,i){var a=i("xhIC"),s=a.JSON||(a.JSON={stringify:JSON.stringify});t.exports=function(t){return s.stringify.apply(s,arguments)}}});